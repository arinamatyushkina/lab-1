CREATE TABLE IF NOT EXISTS  study_group (
                                            id int not null ,
                                            name text
);
CREATE TABLE IF NOT EXISTS student (
                                       id int not null ,
                                       surname text,
                                       name text,
                                       second_name text,
                                       study_group_id int
);
CREATE TABLE IF NOT EXISTS study_plan(
                                         id int not null ,

                                         subject_id int,
                                         exam_type_id int
);

CREATE TABLE IF NOT EXISTS exam_type(
                                        id int not null ,
                                        type text
);
CREATE TABLE IF NOT EXISTS journal (
                                       id int not null ,
                                       student_id int,
                                       study_plan_id int,
                                       in_time bit,
                                       count int,
                                       mark_id int
);

CREATE TABLE IF NOT EXISTS subject(
                                      id int not null ,
                                      name text,
                                      short_name text
);
CREATE TABLE IF NOT EXISTS mark (
                                    id int not null ,
                                    name text,
                                    value text
);


ALTER TABLE  study_group ADD PRIMARY KEY (id);
ALTER TABLE  student ADD PRIMARY KEY (id);
ALTER TABLE study_plan ADD PRIMARY KEY (id);
ALTER TABLE subject ADD PRIMARY KEY (id);
ALTER TABLE exam_type ADD PRIMARY KEY (id);
ALTER TABLE journal ADD PRIMARY KEY (id);
ALTER TABLE mark ADD PRIMARY KEY (id);
ALTER TABLE study_plan ADD FOREIGN KEY (subject_id) REFERENCES subject(id);
ALTER TABLE study_plan ADD FOREIGN KEY (exam_type_id) REFERENCES exam_type(id);
ALTER TABLE student ADD FOREIGN KEY (study_group_id) REFERENCES study_group(id);
ALTER TABLE journal ADD FOREIGN KEY (student_id) REFERENCES student(id);
ALTER TABLE journal ADD FOREIGN KEY (study_plan_id) REFERENCES study_plan(id);
ALTER TABLE journal ADD FOREIGN KEY (mark_id) REFERENCES mark(id);

INSERT INTO  subject VALUES
(1, 'Проектирование информационных систем', 'ПрИС'),
(2, 'Системы искусственного интеллекта', 'СИИ'),
(3, 'Программная инженерия', 'ПИ'),
(4, 'Национальная система информационной безопасности', 'НСИБ'),
(5, 'Системный анализ', 'СисАнал'),
(6, 'Распределенные базы данных', 'РБД'),
(7, 'Системное программное обеспечение', 'СПО');


INSERT INTO  exam_type VALUES
(1, 'Экзамен'),
(2, 'Зачет'),
(3, 'Зачет с оценкой'),
(4, 'Курсовая');


INSERT INTO  study_plan VALUES
(1,1,1),
(2,1,4),
(3,2,1),
(4,3,1),
(5,4,2),
(6,5,1),
(7,6,2),
(8,7,1);


INSERT INTO  mark VALUES
(1, 'Отлично', 5),
(2, 'Хорошо', 4),
(3, 'Удовлетворительно', 3),
(4, 'Неудовлетворительно', 2),
(5, 'Зачет', 'з'),
(6, 'Незачет', 'н'),
(7, 'Неявка', 'н');

INSERT INTO  study_group VALUES
(1, 'ИКБО-07-17'),
(2, 'ИКБО-08-18'),
(3, 'ИКБО-09-19'),
(4, 'ИКБО-05-19'),
(5, 'ИКБО-11-20');

INSERT INTO  student VALUES
(1, 'Иванов', 'Иван', 'Иванович', 2),
(2, 'Иванов', 'Сергей', 'Сергеевич', 1),
(3, 'Волошина', 'Эльвира', 'Сергеевна', 3),
(4, 'Хасанова', 'Ирина', 'Васильевна', 4),
(5, 'Волкова', 'Анна', 'Александровна', 2);

SELECT * FROM STUDY_GROUP ;
SELECT * FROM student;
SELECT * FROM SUBJECT;
SELECT * FROM study_plan;
SELECT * FROM journal;
SELECT * FROM MARK;
SELECT * FROM exam_type;


